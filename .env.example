# Ethereal Presence - Environment Variables

This document lists all environment variables required for production deployment.

## Required Variables

### Database

| Variable | Description | Example |
|----------|-------------|---------|
| `DATABASE_URL` | PostgreSQL connection string | `postgresql://user:password@host:5432/database?sslmode=require` |

### Authentication

| Variable | Description | Validation |
|----------|-------------|------------|
| `BETTER_AUTH_SECRET` | Session encryption secret | Minimum 32 characters |
| `BETTER_AUTH_URL` | Production URL for auth callbacks | Must start with `https://` |

## Optional Variables

### OAuth Providers

| Variable | Description |
|----------|-------------|
| `GOOGLE_CLIENT_ID` | Google OAuth client ID |
| `GOOGLE_CLIENT_SECRET` | Google OAuth client secret |
| `GITHUB_CLIENT_ID` | GitHub OAuth client ID |
| `GITHUB_CLIENT_SECRET` | GitHub OAuth client secret |

### Email (Resend)

| Variable | Description |
|----------|-------------|
| `RESEND_API_KEY` | Resend API key for transactional emails |

### Billing (Autumn)

| Variable | Description |
|----------|-------------|
| `AUTUMN_SECRET_KEY` | Autumn billing platform secret key |

### Job Queue (Upstash QStash)

| Variable | Description |
|----------|-------------|
| `QSTASH_TOKEN` | Upstash QStash authentication token |
| `QSTASH_CURRENT_SIGNING_KEY` | Webhook signature verification key |
| `QSTASH_NEXT_SIGNING_KEY` | Next rotation signing key |

### Observability

| Variable | Description |
|----------|-------------|
| `KUBIKS_API_KEY` | Kubiks OpenTelemetry API key |

### Netlify (Auto-provided)

| Variable | Description |
|----------|-------------|
| `NETLIFY_BLOBS_TOKEN` | Auto-provided in deploy context |

## Security Notes

1. Never commit secrets to version control
2. Use Netlify's environment variable UI for production secrets
3. Rotate secrets regularly
4. Use different secrets for each environment (production, staging, development)

## Validation

Environment variables are validated at application startup. Missing required variables will cause the application to fail with descriptive error messages.

See `lib/env/validation.ts` for the full validation logic.
# Copy this file to .env.local for local development
# Set these in Netlify UI for production (Site Settings > Environment Variables)

# ============================================
# Application Settings
# ============================================

# Application environment (development, staging, production)
# NODE_ENV=development

# ============================================
# Third-Party Services (Optional)
# ============================================

# Cloudinary - Image CDN (if using netlify-plugin-cloudinary)
# Set this in Netlify UI instead of here for security
# CLOUDINARY_CLOUD_NAME=your_cloud_name

# ============================================
# Netlify-Provided Variables (Automatic)
# ============================================
# These are automatically set by Netlify during builds:
# - CONTEXT: Deploy context (production, deploy-preview, branch-deploy)
# - DEPLOY_URL: URL for the specific deploy
# - URL: Primary site URL
# - SITE_ID: Netlify site ID
# - COMMIT_REF: Git commit SHA
# - HEAD: Branch name

# ============================================
# Feature Flags (Optional)
# ============================================

# Enable/disable geo personalization banner
# ENABLE_GEO_BANNER=true
